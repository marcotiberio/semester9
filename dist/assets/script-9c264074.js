import{H as S}from"./main-f2172272.js";import{d as T}from"./index-2a8ce3c2.js";import{b as B}from"./helpers-0bb72b7a.js";function P(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var s=!1;if(typeof window<"u"){var m={get passive(){s=!0}};window.addEventListener("testPassive",null,m),window.removeEventListener("testPassive",null,m)}var h=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),r=[],a=!1,w=-1,d=void 0,l=void 0,g=function(e){return r.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},u=function(e){var n=e||window.event;return g(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},A=function(e){if(l===void 0){var n=!!e&&e.reserveScrollBarGap===!0,o=window.innerWidth-document.documentElement.clientWidth;n&&o>0&&(l=document.body.style.paddingRight,document.body.style.paddingRight=o+"px")}d===void 0&&(d=document.body.style.overflow,document.body.style.overflow="hidden")},H=function(){l!==void 0&&(document.body.style.paddingRight=l,l=void 0),d!==void 0&&(document.body.style.overflow=d,d=void 0)},M=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},I=function(e,n){var o=e.targetTouches[0].clientY-w;return g(e.target)?!1:n&&n.scrollTop===0&&o>0||M(n)&&o<0?u(e):(e.stopPropagation(),!0)},O=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!r.some(function(i){return i.targetElement===e})){var o={targetElement:e,options:n||{}};r=[].concat(P(r),[o]),h?(e.ontouchstart=function(i){i.targetTouches.length===1&&(w=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&I(i,e)},a||(document.addEventListener("touchmove",u,s?{passive:!1}:void 0),a=!0)):A(n)}},L=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}r=r.filter(function(n){return n.targetElement!==e}),h?(e.ontouchstart=null,e.ontouchmove=null,a&&r.length===0&&(document.removeEventListener("touchmove",u,s?{passive:!1}:void 0),a=!1)):r.length||H()};function C(t){let e,n;const o=B(t),i=parseInt(window.getComputedStyle(t).getPropertyValue("--navigation-height"))||0,f=window.matchMedia("(min-width: 1024px)");f.addEventListener("change",c),t.addEventListener("click",T('[data-ref="menuButton"]',p)),c();function p(v){n=!n,o.menuButton.setAttribute("aria-expanded",n),n?(t.setAttribute("data-status","menuIsOpen"),O(o.menu)):(t.removeAttribute("data-status"),L(o.menu))}function y(){e||(e=new S(t,{offset:i,tolerance:{up:5,down:0}}))}function c(){f.matches?e!=null&&e.initialised&&e.destroy():(b(),y(),e.initialised||e.init())}function b(){const v=document.getElementById("wpadminbar")?i+document.getElementById("wpadminbar").offsetHeight:i;document.documentElement.style.scrollPaddingTop=`${v}px`}}export{C as default};
